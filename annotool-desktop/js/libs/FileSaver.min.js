var saveAs=saveAs||"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){if("undefined"===typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var h=a.document,m=h.createElementNS("http://www.w3.org/1999/xhtml","a"),x=!a.externalHost&&"download"in m,y=function(c){var u=h.createEvent("MouseEvents");u.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null);c.dispatchEvent(u)},p=a.webkitRequestFileSystem,v=a.requestFileSystem||
p||a.mozRequestFileSystem,z=function(c){(a.setImmediate||a.setTimeout)(function(){throw c;},0)},q=0,r=function(c){setTimeout(function(){"string"===typeof c?(a.URL||a.webkitURL||a).revokeObjectURL(c):c.remove()},10)},t=function(c,a,d){a=[].concat(a);for(var b=a.length;b--;){var k=c["on"+a[b]];if("function"===typeof k)try{k.call(c,d||c)}catch(e){z(e)}}},l=function(c,b){var d=this,s=c.type,k=!1,e,n,h=function(){t(d,["writestart","progress","write","writeend"])},f=function(){if(k||!e)e=(a.URL||a.webkitURL||
a).createObjectURL(c);n?n.location.href=e:a.open(e,"_blank");d.readyState=d.DONE;h();r(e)},g=function(a){return function(){if(d.readyState!==d.DONE)return a.apply(this,arguments)}},l={create:!0,exclusive:!1},w;d.readyState=d.INIT;b||(b="download");if(x)e=(a.URL||a.webkitURL||a).createObjectURL(c),m.href=e,m.download=b,y(m),d.readyState=d.DONE,h(),r(e);else{a.chrome&&s&&"application/octet-stream"!==s&&(w=c.slice||c.webkitSlice,c=w.call(c,0,c.size,"application/octet-stream"),k=!0);p&&"download"!==b&&
(b+=".download");if("application/octet-stream"===s||p)n=a;v?(q+=c.size,v(a.TEMPORARY,q,g(function(a){a.root.getDirectory("saved",l,g(function(a){var e=function(){a.getFile(b,l,g(function(a){a.createWriter(g(function(b){b.onwriteend=function(b){n.location.href=a.toURL();d.readyState=d.DONE;t(d,"writeend",b);r(a)};b.onerror=function(){var a=b.error;a.code!==a.ABORT_ERR&&f()};["writestart","progress","write","abort"].forEach(function(a){b["on"+a]=d["on"+a]});b.write(c);d.abort=function(){b.abort();d.readyState=
d.DONE};d.readyState=d.WRITING}),f)}),f)};a.getFile(b,{create:!1},g(function(a){a.remove();e()}),g(function(a){a.code===a.NOT_FOUND_ERR?e():f()}))}),f)}),f)):f()}},b=l.prototype;b.abort=function(){this.readyState=this.DONE;t(this,"abort")};b.readyState=b.INIT=0;b.WRITING=1;b.DONE=2;b.error=b.onwritestart=b.onprogress=b.onwrite=b.onabort=b.onerror=b.onwriteend=null;return function(a,b){return new l(a,b)}}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);
"undefined"!==typeof module&&null!==module?module.exports=saveAs:"undefined"!==typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});
